<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PhysiVerse - Tạp chí Khoa học Vật Lý</title>

    <!-- Google Fonts for professional typography -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lora:ital,wght@0,400..700;1,400..700&family=Montserrat:wght@400;500;700&display=swap" rel="stylesheet">

    <!-- QuillJS CSS for rich text editor -->
    <link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet">

    <!-- All CSS is embedded here -->
    <style>
        /* --- CSS Variables & Global Reset --- */
        :root {
            --primary-color: #0A2F5B; /* Navy Blue */
            --secondary-color: #005A9C; /* Brighter Blue */
            --accent-color: #E8A87C; /* Soft Orange/Peach */
            --text-color: #333333;
            --light-gray: #f8f9fa;
            --border-color: #dee2e6;
            --font-heading: 'Lora', serif;
            --font-body: 'Montserrat', sans-serif;
            --shadow: 0 4px 15px rgba(0,0,0,0.07);
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: var(--font-body);
            line-height: 1.7;
            color: var(--text-color);
            background-color: #ffffff;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* --- Header & Navigation --- */
        .main-header {
            background-color: #fff;
            border-bottom: 1px solid var(--border-color);
            padding: 15px 0;
            position: sticky;
            top: 0;
            z-index: 1000;
            transition: box-shadow 0.3s ease;
        }
        .main-header.scrolled {
            box-shadow: var(--shadow);
        }

        .main-header .container {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-family: var(--font-heading);
            color: var(--primary-color);
            font-size: 2.5rem;
            margin: 0;
            font-weight: 700;
        }

        .main-nav ul {
            list-style: none;
            display: flex;
        }

        .main-nav li {
            margin-left: 30px;
        }

        .main-nav a {
            text-decoration: none;
            color: var(--primary-color);
            font-weight: 500;
            font-size: 1rem;
            padding-bottom: 5px;
            position: relative;
        }
        .main-nav a::after {
            content: '';
            position: absolute;
            width: 0;
            height: 2px;
            bottom: 0;
            left: 50%;
            background-color: var(--accent-color);
            transition: all 0.3s ease-in-out;
        }
        .main-nav a:hover::after,
        .main-nav a.active::after {
            width: 100%;
            left: 0;
        }

        .header-actions {
            display: flex;
            align-items: center;
        }

        .header-actions .user-info {
            display: none; /* Hidden by default, shown on login */
            align-items: center;
        }

        .header-actions .user-info span {
            margin-right: 15px;
            font-weight: 500;
            color: var(--primary-color);
        }
        .header-actions .user-info .btn {
             margin-left: 10px;
        }

        /* --- Buttons --- */
        .btn {
            padding: 10px 20px;
            border-radius: 5px;
            text-decoration: none;
            font-weight: bold;
            transition: all 0.3s ease;
            border: none;
            cursor: pointer;
            font-size: 0.95rem;
        }

        .btn-primary {
            background-color: var(--primary-color);
            color: #fff;
        }

        .btn-primary:hover {
            background-color: var(--secondary-color);
            transform: translateY(-2px);
        }

        .btn-secondary {
            background-color: var(--accent-color);
            color: #fff;
            padding: 12px 28px;
            font-size: 1.05rem;
        }

        .btn-secondary:hover {
            background-color: #d99160;
            transform: translateY(-2px);
        }

        .btn-logout {
            background-color: #dc3545; /* Red */
            color: white;
        }
        .btn-logout:hover {
            background-color: #c82333;
        }

        .btn-post-article {
            background-color: #28a745; /* Green */
            color: white;
        }
        .btn-post-article:hover {
            background-color: #218838;
        }


        /* --- Hero Section --- */
        .hero-section {
            background: linear-gradient(rgba(10, 47, 91, 0.85), rgba(10, 47, 91, 0.85)), url('https://placehold.co/1920x1080/0A2F5B/FFFFFF?text=PhysiVerse+Background') no-repeat center center;
            background-size: cover;
            color: #fff;
            text-align: center;
            padding: 120px 0;
        }

        .hero-section h2 {
            font-family: var(--font-heading);
            font-size: 3.5rem;
            margin-bottom: 20px;
            font-weight: 700;
        }

        .hero-section p {
            font-size: 1.25rem;
            max-width: 700px;
            margin: 0 auto 40px auto;
            opacity: 0.9;
        }

        /* --- Latest Issue Section --- */
        .latest-issue {
            padding: 80px 0;
            background-color: var(--light-gray);
            min-height: 400px;
        }

        .section-title {
            text-align: center;
            font-family: var(--font-heading);
            font-size: 2.8rem;
            color: var(--primary-color);
            margin-bottom: 60px;
            position: relative;
        }
        .section-title::after {
            content: '';
            display: block;
            width: 80px;
            height: 3px;
            background-color: var(--accent-color);
            margin: 15px auto 0;
        }

        #no-articles-message {
            text-align: center;
            color: #6c757d;
            padding: 50px 0;
        }
        #no-articles-message h3 {
            font-family: var(--font-heading);
            margin-bottom: 10px;
        }


        .articles-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 30px;
        }

        .article-card {
            background-color: #fff;
            border-radius: 8px;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            box-shadow: var(--shadow);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            cursor: pointer;
        }

        .article-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
        }

        .article-image {
            width: 100%;
            height: 220px;
            object-fit: cover;
            background-color: var(--light-gray);
        }

        .article-content {
            padding: 25px;
            flex-grow: 1;
            display: flex;
            flex-direction: column;
        }

        .article-category {
            display: inline-block;
            background-color: var(--secondary-color);
            color: #fff;
            padding: 5px 10px;
            border-radius: 5px;
            font-size: 0.8rem;
            font-weight: bold;
            margin-bottom: 15px;
            align-self: flex-start;
        }

        .article-title {
            font-family: var(--font-heading);
            font-size: 1.4rem;
            margin-bottom: 10px;
        }

        .article-title a {
            text-decoration: none;
            color: var(--primary-color);
            transition: color 0.3s ease;
        }

        .article-card:hover .article-title a {
            color: var(--accent-color);
        }

        .article-authors {
            font-size: 0.9rem;
            color: #6c757d;
            margin-bottom: 15px;
        }

        .article-excerpt {
            margin-bottom: 20px;
            flex-grow: 1;
        }

        .read-more {
            color: var(--secondary-color);
            text-decoration: none;
            font-weight: bold;
            align-self: flex-start;
        }
        .article-card:hover .read-more {
            text-decoration: underline;
        }

        /* --- Footer --- */
        .main-footer {
            background-color: var(--primary-color);
            color: #fff;
            padding: 60px 0;
        }
        .main-footer a { color: #fff; }

        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 40px;
            margin-bottom: 40px;
        }

        .footer-content h4 {
            font-family: var(--font-heading);
            font-size: 1.5rem;
            margin-bottom: 20px;
            color: var(--accent-color);
        }

        .footer-links ul {
            list-style: none;
        }
        .footer-links li {
            margin-bottom: 10px;
        }
        .footer-links a {
            text-decoration: none;
            opacity: 0.8;
            transition: opacity 0.3s ease;
        }
        .footer-links a:hover {
            opacity: 1;
            text-decoration: underline;
        }

        .footer-copyright {
            text-align: center;
            padding-top: 40px;
            border-top: 1px solid rgba(255,255,255,0.2);
            opacity: 0.7;
        }

        /* --- Login Modal --- */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.6);
            display: none; /* Initially hidden */
            justify-content: center;
            align-items: center;
            z-index: 2000;
            animation: fadeIn 0.3s ease-out;
        }
        .modal-overlay.active {
            display: flex;
        }

        .modal-container {
            background: #fff;
            padding: 40px;
            border-radius: 8px;
            width: 90%;
            max-width: 450px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            position: relative;
            animation: slideIn 0.3s ease-out;
        }

        .modal-close {
            position: absolute;
            top: 15px;
            right: 15px;
            font-size: 1.5rem;
            border: none;
            background: none;
            cursor: pointer;
            color: #aaa;
            transition: color 0.2s ease;
        }
        .modal-close:hover {
            color: var(--text-color);
        }

        .modal-header h3 {
            font-family: var(--font-heading);
            color: var(--primary-color);
            margin-bottom: 20px;
            text-align: center;
            font-size: 1.8rem;
        }

        .form-group {
            margin-bottom: 20px;
        }
        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: var(--text-color);
        }
        .form-group input, .form-group select, .form-group textarea {
            width: 100%;
            padding: 12px;
            border: 1px solid var(--border-color);
            border-radius: 5px;
            font-size: 1rem;
            font-family: var(--font-body);
        }
        .form-group textarea {
            min-height: 100px;
            resize: vertical;
        }

        #login-error, #post-message {
            color: #dc3545;
            margin-bottom: 15px;
            text-align: center;
            display: none; /* Hidden by default */
            font-weight: 500;
        }
        #post-message.success {
            color: #28a745;
        }

        /* --- Page & Form Styles --- */
        .page-section {
            display: none;
            animation: fadeIn 0.5s ease-in-out;
        }
        .page-section.active {
            display: block;
        }

        #postArticlePage {
            padding: 80px 0;
            background-color: var(--light-gray);
        }

        #postArticlePage h2 {
            font-family: var(--font-heading);
            font-size: 2.8rem;
            color: var(--primary-color);
            margin-bottom: 40px;
            text-align: center;
        }

        .post-form {
            background: #fff;
            padding: 40px;
            border-radius: 8px;
            box-shadow: var(--shadow);
            max-width: 900px;
            margin: 0 auto;
        }

        #coverImagePreview {
            max-width: 100%;
            height: auto;
            max-height: 300px;
            margin-top: 15px;
            border-radius: 5px;
            border: 1px solid var(--border-color);
            display: none; /* Hidden by default */
        }

        /* --- Article Detail Page Styles --- */
        #articleDetailPage {
            padding: 80px 0;
        }
        .article-detail-container {
            max-width: 800px;
            margin: 0 auto;
            background: #fff;
            padding: 40px;
            border-radius: 8px;
            box-shadow: var(--shadow);
        }
        .article-detail-header img {
            width: 100%;
            max-height: 400px;
            object-fit: cover;
            border-radius: 5px;
            margin-bottom: 20px;
            background-color: var(--light-gray);
        }
        .article-detail-header h1 {
            font-family: var(--font-heading);
            font-size: 2.8rem;
            color: var(--primary-color);
            line-height: 1.3;
            margin-bottom: 15px;
        }
        .article-meta {
            font-size: 0.9rem;
            color: #6c757d;
            margin-bottom: 30px;
            border-top: 1px solid var(--border-color);
            border-bottom: 1px solid var(--border-color);
            padding: 15px;
            background-color: var(--light-gray);
            border-radius: 5px;
        }
        .article-meta p {
            margin: 5px 0;
        }
        .article-meta strong {
            color: var(--text-color);
        }

        .article-full-content {
            font-size: 1.1rem;
            line-height: 1.8;
        }
        .article-full-content h2, .article-full-content h3 {
            font-family: var(--font-heading);
            color: var(--primary-color);
            margin-top: 30px;
            margin-bottom: 15px;
        }
        .article-full-content blockquote {
            border-left: 4px solid var(--accent-color);
            padding-left: 20px;
            margin: 20px 0;
            font-style: italic;
            color: #555;
        }
        #backToHomeBtn {
            margin-bottom: 40px;
        }

        /* --- General Page Content Styles --- */
        .page-content-container {
            max-width: 900px;
            margin: 0 auto;
            background: #fff;
            padding: 40px;
            border-radius: 8px;
            box-shadow: var(--shadow);
            line-height: 1.8;
        }
        .page-content-container p, .page-content-container ul {
            margin-bottom: 1.5rem;
        }
        .page-content-container h3 {
            font-family: var(--font-heading);
            color: var(--secondary-color);
            margin-top: 2rem;
            margin-bottom: 1rem;
            border-bottom: 2px solid var(--border-color);
            padding-bottom: 0.5rem;
        }

        /* --- Scroll to Top Button --- */
        #scrollToTopBtn {
            display: none;
            position: fixed;
            bottom: 30px;
            right: 30px;
            z-index: 99;
            border: none;
            outline: none;
            background-color: var(--primary-color);
            color: white;
            cursor: pointer;
            padding: 15px;
            border-radius: 50%;
            font-size: 18px;
            width: 50px;
            height: 50px;
            transition: background-color 0.3s, opacity 0.3s, transform 0.3s;
            opacity: 0.8;
        }
        #scrollToTopBtn:hover {
            background-color: var(--secondary-color);
            opacity: 1;
            transform: scale(1.1);
        }


        /* Quill Editor styles */
        .ql-toolbar.ql-snow {
            border-radius: 5px 5px 0 0;
            border-color: var(--border-color);
            background-color: #f0f2f5;
        }
        .ql-container.ql-snow {
            border-radius: 0 0 5px 5px;
            border-color: var(--border-color);
            min-height: 300px;
            font-family: var(--font-body);
            font-size: 1rem;
            line-height: 1.6;
        }
        .ql-editor strong { font-weight: bold; }
        .ql-editor em { font-style: italic; }

        /* Animation Keyframes */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        @keyframes slideIn {
            from { transform: translateY(-50px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        @keyframes slideUp {
            from { transform: translateY(20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        .page-section {
             animation: slideUp 0.5s ease-in-out;
        }


        /* --- Responsive Design --- */
        @media (max-width: 768px) {
            .main-header .container {
                flex-direction: column;
            }
            .logo {
                margin-bottom: 15px;
            }
            .main-nav ul {
                justify-content: center;
                flex-wrap: wrap;
                margin-bottom: 15px;
            }
            .main-nav li {
                margin: 5px 10px;
            }
            .hero-section h2 {
                font-size: 2.5rem;
            }
            .header-actions {
                flex-direction: column;
            }
            .header-actions .user-info {
                flex-direction: column;
            }
            .header-actions .user-info span {
                margin-right: 0;
                margin-bottom: 10px;
            }
            .header-actions .user-info .btn {
                margin-left: 0;
                margin-top: 10px;
            }
        }
    </style>
</head>
<body>

    <header class="main-header" id="mainHeader">
        <div class="container">
            <h1 class="logo">PhysiVerse</h1>
            <nav class="main-nav">
                <ul>
                    <li><a href="#" class="nav-link active" data-target="homePage">Trang Chủ</a></li>
                    <li><a href="#" class="nav-link" data-target="submitArticle">Nộp Bài Báo</a></li>
                    <li><a href="#" class="nav-link" data-target="aboutUs">Về Chúng Tôi</a></li>
                </ul>
            </nav>
            <div class="header-actions">
                <button id="loginBtn" class="btn btn-primary">Đăng Nhập</button>
                <div id="userInfo" class="user-info">
                    <span id="loggedInUsername">Chào, admin!</span>
                    <button id="postArticleLink" class="btn btn-post-article">Đăng Bài</button>
                    <button id="logoutBtn" class="btn btn-logout">Đăng Xuất</button>
                </div>
            </div>
        </div>
    </header>

    <main>
        <!-- Home Page Section -->
        <section id="homePage" class="page-section active">
            <section class="hero-section">
                <div class="container">
                    <h2>Khám Phá Ranh Giới Mới Của Tri Thức Vật Lý</h2>
                    <p>Nơi công bố những nghiên cứu đột phá, các bài tổng quan sâu sắc và những thảo luận tiên phong trong ngành vật lý học.</p>
                    <a href="#latest-issue-section" class="btn btn-secondary">Xem Số Mới Nhất</a>
                </div>
            </section>

            <section class="latest-issue" id="latest-issue-section">
                <div class="container">
                    <h3 class="section-title">Nghiên Cứu Nổi Bật</h3>
                    <div id="no-articles-message" style="display: none;">
                        <h3>Chưa có bài báo nào được xuất bản.</h3>
                        <p>Hãy đăng nhập và là người đầu tiên đóng góp cho PhysiVerse!</p>
                    </div>
                    <div class="articles-grid">
                        <!-- Articles will be loaded here by JavaScript -->
                    </div>
                </div>
            </section>
        </section>

        <!-- Post Article Page Section -->
        <section id="postArticlePage" class="page-section">
            <div class="container">
                <h2>Đăng Bài Báo Mới</h2>
                <form id="articlePostForm" class="post-form">
                    <p id="post-message"></p>

                    <div class="form-group">
                        <label for="articleTitle">Tiêu đề bài báo</label>
                        <input type="text" id="articleTitle" name="articleTitle" required placeholder="Nhập tiêu đề bài báo khoa học của bạn">
                    </div>

                    <div class="form-group">
                        <label for="coverImageInput">Ảnh bìa (chọn từ máy tính)</label>
                        <input type="file" id="coverImageInput" name="coverImageInput" accept="image/*">
                        <img id="coverImagePreview" src="#" alt="Xem trước ảnh bìa">
                    </div>

                    <div class="form-group">
                        <label for="articleAuthors">Tác giả (Ví dụ: Nguyễn Văn An, Trần Thị Bình)</label>
                        <input type="text" id="articleAuthors" name="articleAuthors" required placeholder="Tên các tác giả, phân cách bởi dấu phẩy">
                    </div>

                    <div class="form-group">
                        <label for="articleAffiliation">Đơn vị công tác</label>
                        <input type="text" id="articleAffiliation" name="articleAffiliation" required placeholder="Ví dụ: Viện Vật lý, Đại học Quốc gia">
                    </div>

                    <div class="form-group">
                        <label for="articleEmail">Email liên hệ</label>
                        <input type="email" id="articleEmail" name="articleEmail" required placeholder="Ví dụ: nvan@email.com">
                    </div>

                    <div class="form-group">
                        <label for="articleCategory">Phân loại</label>
                        <select id="articleCategory" name="articleCategory" required>
                            <option value="">-- Chọn chuyên ngành --</option>
                            <option value="Vật lý Lượng tử">Vật lý Lượng tử</option>
                            <option value="Vật lý Thiên văn">Vật lý Thiên văn</option>
                            <option value="Vật lý Chất rắn">Vật lý Chất rắn</option>
                            <option value="Vật lý Hạt nhân">Vật lý Hạt nhân</option>
                            <option value="Vật lý Plasma">Vật lý Plasma</option>
                            <option value="Vật lý Sinh học">Vật lý Sinh học</option>
                            <option value="Vật lý Tính toán">Vật lý Tính toán</option>
                            <option value="Quang học & Quang tử">Quang học & Quang tử</option>
                            <option value="Vật lý Năng lượng cao">Vật lý Năng lượng cao</option>
                            <option value="Vật lý Ứng dụng">Vật lý Ứng dụng</option>
                            <option value="Vật lý Lý thuyết">Vật lý Lý thuyết</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="articleExcerpt">Mô tả tóm tắt</label>
                        <textarea id="articleExcerpt" name="articleExcerpt" rows="4" required placeholder="Tóm tắt ngắn gọn nội dung chính của bài báo..."></textarea>
                    </div>

                    <div class="form-group">
                        <label for="articleContent">Nội dung bài báo</label>
                        <div id="editor-container"></div>
                    </div>

                    <button type="submit" class="btn btn-primary" style="width: 100%; margin-top: 30px;">Xuất Bản Bài Báo</button>
                </form>
            </div>
        </section>

        <!-- Article Detail Page Section -->
        <section id="articleDetailPage" class="page-section">
            <div class="container">
                <button id="backToHomeBtn" class="btn btn-primary">&larr; Quay lại Trang chủ</button>
                <div class="article-detail-container">
                    <div class="article-detail-header">
                        <img id="detailCoverImage" src="" alt="Article Cover Image">
                        <h1 id="detailTitle"></h1>
                        <div class="article-meta">
                            <p><strong>Tác giả:</strong> <span id="detailAuthors"></span></p>
                            <p><strong>Đơn vị:</strong> <span id="detailAffiliation"></span></p>
                            <p><strong>Email:</strong> <a id="detailEmailLink" href="#"><span id="detailEmail"></span></a></p>
                            <p><strong>Ngày đăng:</strong> <span id="detailDate"></span> | <strong>Chuyên ngành:</strong> <span id="detailCategory"></span></p>
                        </div>
                    </div>
                    <div id="detailContent" class="article-full-content ql-editor">
                        <!-- Full article content will be injected here -->
                    </div>
                </div>
            </div>
        </section>

        <!-- About Us Page Section -->
        <section id="aboutUs" class="page-section" style="padding: 80px 0;">
            <div class="container">
                <h2 class="section-title">Về Chúng Tôi</h2>
                <div class="page-content-container">
                    <h3>Tầm Nhìn</h3>
                    <p>PhysiVerse được xây dựng với tầm nhìn trở thành một kho lưu trữ tri thức vật lý hiện đại, dễ tiếp cận và đáng tin cậy. Chúng tôi mong muốn tạo ra một không gian nơi những ý tưởng đột phá và các công trình nghiên cứu tâm huyết được trình bày một cách trang trọng và lan tỏa mạnh mẽ đến cộng đồng.</p>

                    <h3>Sứ Mệnh Của PhysiVerse</h3>
                    <p>Sứ mệnh của chúng tôi là đẩy nhanh tốc độ phổ biến tri thức và thúc đẩy các khám phá khoa học tiên tiến. PhysiVerse tin rằng khoa học là tài sản chung của nhân loại và mọi rào cản trong việc tiếp cận các công trình nghiên cứu cần phải được gỡ bỏ. Bằng cách cung cấp một nền tảng xuất bản truy cập mở, chúng tôi kết nối cộng đồng các nhà nghiên cứu, đồng thời truyền cảm hứng cho thế hệ các nhà khoa học tương lai.</p>

                    <h3>Phạm Vi và Lĩnh Vực</h3>
                    <p>Tạp chí PhysiVerse chào đón các bài báo nghiên cứu gốc, bài tổng quan (review), và các bài bình luận (commentary) trong tất cả các lĩnh vực của Vật lý, bao gồm nhưng không giới hạn:</p>
                    <ul>
                        <li>Vật lý Thiên văn và Vũ trụ học</li>
                        <li>Vật lý Lượng tử và Thông tin Lượng tử</li>
                        <li>Vật lý Chất rắn và Khoa học Vật liệu</li>
                        <li>Vật lý Hạt nhân và Năng lượng cao</li>
                        <li>Vật lý Plasma, Vật lý Sinh học và Y học</li>
                        <li>Vật lý Tính toán, Quang học và Quang tử</li>
                        <li>Vật lý Ứng dụng và các lĩnh vực liên ngành</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- Submit Article Page Section -->
        <section id="submitArticle" class="page-section" style="padding: 80px 0;">
            <div class="container">
                <h2 class="section-title">Nộp Bài Báo</h2>
                <div class="page-content-container">
                    <h3>Quy Trình Xuất Bản</h3>
                    <p>Tại PhysiVerse, chúng tôi áp dụng một quy trình xuất bản tinh gọn và hiệu quả dành cho Quản trị viên. Với vai trò là người điều hành cao nhất, bạn có toàn quyền đăng tải và quản lý nội dung của tạp chí.</p>
                    <ul>
                        <li><b>Soạn thảo:</b> Chuẩn bị bản thảo với đầy đủ các cấu phần khoa học cần thiết.</li>
                        <li><b>Đăng nhập:</b> Truy cập trang web với tài khoản Quản trị viên của bạn.</li>
                        <li><b>Đăng bài:</b> Sử dụng chức năng "Đăng Bài" để điền thông tin, tải lên hình ảnh và dán nội dung.</li>
                        <li><b>Xuất bản:</b> Sau khi nhấn nút "Xuất Bản Bài Báo", công trình của bạn sẽ ngay lập tức xuất hiện trên trang chủ của PhysiVerse.</li>
                    </ul>
                    <h3>Lưu ý cho Admin</h3>
                    <p>Bạn chịu trách nhiệm về tính chính xác, khoa học và bản quyền của mọi nội dung được đăng tải. Hãy đảm bảo rằng các bài báo đều đạt chất lượng cao nhất trước khi xuất bản để duy trì uy tín và giá trị học thuật của PhysiVerse.</p>
                    <div style="text-align: center; margin-top: 30px;">
                        <button class="btn btn-primary" id="goToPostPageBtn">Đến trang Đăng bài</button>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <footer class="main-footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-about">
                    <h4>PhysiVerse</h4>
                    <p>Tạp chí khoa học Vật lý truy cập mở, dành riêng cho việc phổ biến tri thức và thúc đẩy các khám phá khoa học.</p>
                </div>
                <div class="footer-links">
                    <h4>Liên Kết Nhanh</h4>
                    <ul>
                        <li><a href="#">Về Tạp chí</a></li>
                        <li><a href="#">Hướng dẫn cho Tác giả</a></li>
                        <li><a href="#">Liên hệ</a></li>
                    </ul>
                </div>
                <div class="footer-social">
                    <h4>Theo dõi chúng tôi</h4>
                    <a href="#">Twitter</a> | <a href="#">LinkedIn</a>
                </div>
            </div>
            <div class="footer-copyright">
                <p>&copy; 2025 PhysiVerse. Bảo lưu mọi quyền.</p>
            </div>
        </div>
    </footer>

    <!-- Login Modal HTML -->
    <div class="modal-overlay" id="loginModal">
        <div class="modal-container">
            <button class="modal-close" id="closeModalBtn">&times;</button>
            <div class="modal-header">
                <h3>Đăng Nhập Quản Trị</h3>
            </div>
            <div class="modal-body">
                <form id="loginForm">
                    <p id="login-error">Tên đăng nhập hoặc mật khẩu không đúng.</p>
                    <div class="form-group">
                        <label for="username">Tên đăng nhập</label>
                        <input type="text" id="username" name="username" required>
                    </div>
                    <div class="form-group">
                        <label for="password">Mật khẩu</label>
                        <input type="password" id="password" name="password" required>
                    </div>
                    <button type="submit" class="btn btn-primary" style="width: 100%;">Đăng Nhập</button>
                </form>
            </div>
        </div>
    </div>

    <!-- Scroll to Top Button -->
    <button id="scrollToTopBtn" title="Lên đầu trang">&#8679;</button>

    <!-- QuillJS script -->
    <script src="https://cdn.quilljs.com/1.3.6/quill.js"></script>

    <!-- All Javascript is embedded here -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {

            // --- NGUỒN DỮ LIỆU ---
            // ĐÃ XÓA DEFAULT ARTICLES, WEB BẮT ĐẦU TRỐNG
            const getAllArticles = () => JSON.parse(localStorage.getItem('physiverseArticles')) || [];

            // --- CÁC THÀNH PHẦN UI ---
            const header = document.getElementById('mainHeader');
            const navLinks = document.querySelectorAll('.nav-link');
            const pageSections = document.querySelectorAll('.page-section');
            const loginModal = document.getElementById('loginModal');
            const openModalBtn = document.getElementById('loginBtn');
            const closeModalBtn = document.getElementById('closeModalBtn');
            const loginForm = document.getElementById('loginForm');
            const userInfoContainer = document.getElementById('userInfo');
            const logoutBtn = document.getElementById('logoutBtn');
            const postArticleLink = document.getElementById('postArticleLink');
            const goToPostPageBtn = document.getElementById('goToPostPageBtn');
            const articlePostForm = document.getElementById('articlePostForm');
            const articlesGrid = document.querySelector('.articles-grid');
            const noArticlesMessage = document.getElementById('no-articles-message');
            const scrollToTopBtn = document.getElementById('scrollToTopBtn');

            // --- CÁC HÀM XỬ LÝ ---

            // Hiển thị trang được chọn
            const showPage = (targetId) => {
                pageSections.forEach(section => {
                    section.classList.remove('active');
                    section.style.display = 'none';
                });
                const targetPage = document.getElementById(targetId);
                if (targetPage) {
                    targetPage.classList.add('active');
                    targetPage.style.display = 'block';
                    window.scrollTo(0, 0);
                }
                navLinks.forEach(link => link.classList.remove('active'));
                const activeLink = document.querySelector(`.nav-link[data-target="${targetId}"]`);
                if (activeLink) activeLink.classList.add('active');
            };

            // Cập nhật giao diện khi đăng nhập/đăng xuất
            const showLoggedInState = (username) => {
                document.getElementById('loginBtn').style.display = 'none';
                userInfoContainer.style.display = 'flex';
                document.getElementById('loggedInUsername').textContent = `Chào, ${username}!`;
            };
            const showLoggedOutState = () => {
                document.getElementById('loginBtn').style.display = 'block';
                userInfoContainer.style.display = 'none';
                if (!document.getElementById('homePage').classList.contains('active')) {
                     showPage('homePage');
                }
            };

            // Tải và hiển thị bài viết
            const loadArticles = () => {
                const allArticles = getAllArticles();

                if (!articlesGrid) return;

                articlesGrid.innerHTML = '';

                if (allArticles.length === 0) {
                    noArticlesMessage.style.display = 'block';
                } else {
                    noArticlesMessage.style.display = 'none';
                    allArticles.forEach(article => {
                        const articleCardHTML = `
                            <article class="article-card" data-id="${article.id}">
                                <img src="${article.coverImage}" alt="${article.title}" class="article-image">
                                <div class="article-content">
                                    <span class="article-category">${article.category}</span>
                                    <h4 class="article-title"><a href="#" data-id="${article.id}">${article.title}</a></h4>
                                    <p class="article-authors">Bởi ${article.authors}</p>
                                    <p class="article-excerpt">${article.excerpt}</p>
                                    <a href="#" class="read-more" data-id="${article.id}">Đọc Toàn Văn &rarr;</a>
                                </div>
                            </article>`;
                        articlesGrid.insertAdjacentHTML('beforeend', articleCardHTML);
                    });

                    document.querySelectorAll('.article-card').forEach(card => {
                        card.addEventListener('click', (e) => {
                            e.preventDefault();
                            const articleId = e.currentTarget.dataset.id;
                            displayArticleDetail(articleId);
                        });
                    });
                }
            };

            // Hiển thị chi tiết bài viết
            const displayArticleDetail = (articleId) => {
                const article = getAllArticles().find(a => a.id == articleId);

                if (article) {
                    document.getElementById('detailCoverImage').src = article.coverImage;
                    document.getElementById('detailTitle').textContent = article.title;
                    document.getElementById('detailAuthors').textContent = article.authors;
                    document.getElementById('detailAffiliation').textContent = article.affiliation;
                    document.getElementById('detailEmail').textContent = article.email;
                    document.getElementById('detailEmailLink').href = `mailto:${article.email}`;
                    document.getElementById('detailDate').textContent = article.date;
                    document.getElementById('detailCategory').textContent = article.category;
                    document.getElementById('detailContent').innerHTML = article.content;

                    showPage('articleDetailPage');
                } else {
                    alert("Không tìm thấy bài báo. Có thể nó đã bị xóa.");
                }
            };

            // --- KHỞI TẠO VÀ GÁN SỰ KIỆN ---

            // Header và Scroll-to-top
            window.onscroll = () => {
                if (document.body.scrollTop > 100 || document.documentElement.scrollTop > 100) {
                    header.classList.add('scrolled');
                    scrollToTopBtn.style.display = "block";
                } else {
                    header.classList.remove('scrolled');
                    scrollToTopBtn.style.display = "none";
                }
            };
            scrollToTopBtn.addEventListener('click', () => {
                window.scrollTo({top: 0, behavior: 'smooth'});
            });

            // Navigation
            navLinks.forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    showPage(e.currentTarget.dataset.target);
                });
            });
            goToPostPageBtn.addEventListener('click', () => {
                if(sessionStorage.getItem('isLoggedIn') === 'true') showPage('postArticlePage');
                else {
                    alert('Bạn cần đăng nhập để truy cập trang này.');
                    loginModal.classList.add('active');
                }
            });
            document.getElementById('backToHomeBtn').addEventListener('click', () => showPage('homePage'));

            // Login/Logout
            const validUsername = 'admin';
            const validPasswords = ['hieu2k10', 'khoi2k10', 'hung2k10'];
            openModalBtn.addEventListener('click', () => loginModal.classList.add('active'));
            closeModalBtn.addEventListener('click', () => loginModal.classList.remove('active'));
            loginModal.addEventListener('click', (e) => { if (e.target === loginModal) loginModal.classList.remove('active'); });
            loginForm.addEventListener('submit', (e) => {
                e.preventDefault();
                const username = e.target.username.value;
                const password = e.target.password.value;
                if (username === validUsername && validPasswords.includes(password)) {
                    alert('Đăng nhập thành công!');
                    loginModal.classList.remove('active');
                    showLoggedInState(username);
                    sessionStorage.setItem('isLoggedIn', 'true');
                    sessionStorage.setItem('loggedInUser', username);
                } else {
                    document.getElementById('login-error').style.display = 'block';
                }
            });
            logoutBtn.addEventListener('click', () => {
                sessionStorage.clear();
                showLoggedOutState();
            });
            postArticleLink.addEventListener('click', (e) => {
                e.preventDefault();
                showPage('postArticlePage');
            });

            // Quill Editor
            let quill;
            if (document.getElementById('editor-container')) {
                quill = new Quill('#editor-container', {
                    theme: 'snow',
                    placeholder: 'Bắt đầu viết nội dung bài báo của bạn tại đây...',
                    modules: { toolbar: [
                        [{ 'header': [1, 2, 3, false] }],
                        ['bold', 'italic', 'underline', 'strike'], ['blockquote', 'code-block'],
                        [{ 'list': 'ordered'}, { 'list': 'bullet' }],
                        ['link', 'image'], [{ 'align': [] }], ['clean']
                    ]}
                });
            }

            // Đăng bài
            if (articlePostForm) {
                articlePostForm.addEventListener('submit', function(e) {
                    e.preventDefault();
                    const postMessage = document.getElementById('post-message');
                    const coverImagePreview = document.getElementById('coverImagePreview');
                    const requiredFields = ['articleTitle', 'articleAuthors', 'articleAffiliation', 'articleEmail', 'articleCategory', 'articleExcerpt'];
                    let isFormValid = true;

                    requiredFields.forEach(fieldId => {
                        const field = document.getElementById(fieldId);
                        if (!field.value) isFormValid = false;
                    });
                    if (quill.getLength() <= 1) isFormValid = false; // Check if editor is empty
                    if (coverImagePreview.src === window.location.href) isFormValid = false; // Check if image is uploaded

                    if (!isFormValid) {
                        postMessage.textContent = 'Vui lòng điền đầy đủ các trường và chọn ảnh bìa.';
                        postMessage.classList.remove('success');
                        postMessage.style.display = 'block';
                        return;
                    }

                    const newArticle = {
                        id: Date.now(),
                        title: document.getElementById('articleTitle').value,
                        coverImage: coverImagePreview.src,
                        authors: document.getElementById('articleAuthors').value,
                        affiliation: document.getElementById('articleAffiliation').value,
                        email: document.getElementById('articleEmail').value,
                        category: document.getElementById('articleCategory').value,
                        excerpt: document.getElementById('articleExcerpt').value,
                        content: quill.root.innerHTML,
                        date: new Date().toLocaleDateString('vi-VN')
                    };

                    let articles = getAllArticles();
                    articles.unshift(newArticle);
                    localStorage.setItem('physiverseArticles', JSON.stringify(articles));

                    postMessage.textContent = 'Bài báo đã được xuất bản thành công!';
                    postMessage.classList.add('success');
                    postMessage.style.display = 'block';

                    this.reset();
                    quill.setContents([{ insert: '\n' }]);
                    coverImagePreview.style.display = 'none';
                    coverImagePreview.src = '#';

                    setTimeout(() => {
                        postMessage.style.display = 'none';
                        showPage('homePage');
                        loadArticles();
                    }, 2000);
                });

                document.getElementById('coverImageInput').addEventListener('change', function(e) {
                    const file = e.target.files[0];
                    if (file) {
                        const reader = new FileReader();
                        reader.onload = function(event) {
                            coverImagePreview.src = event.target.result;
                            coverImagePreview.style.display = 'block';
                        }
                        reader.readAsDataURL(file);
                    }
                });
            }

            // --- KHỞI ĐỘNG ỨNG DỤNG ---
            if (sessionStorage.getItem('isLoggedIn') === 'true') {
                showLoggedInState(sessionStorage.getItem('loggedInUser'));
            } else {
                showLoggedOutState();
            }
            loadArticles();
        });
    </script>

</body>
</html>
